@model List<Invoice>

@{
	Layout = "_layout";
	ViewData["Title"] = "My Invoices";
}

<!DOCTYPE html>
<html>
<head>
	<meta charset="UTF-8">
	<title>CRM Application</title>
	<link rel="stylesheet" type="text/css" href="/css/list.css">
	<link rel="stylesheet" href="~/css/style-main.css" />
	<link rel="stylesheet" href="~/css/style-table.css" />
	<link rel="stylesheet" href="~/css/style-radio.css" />

</head>
<body>
	@if (Model != null)
	{
		<div style="display:flex;justify-content:center">
			<table>

				@foreach (var invoice in Model)
				{

					<thead>
						<tr>
							<th class="center" colspan="3">
								Invoice generated at: @invoice.InvoinceStartDate
							</th>
						</tr>
						
					</thead>
					<tbody>
						<tr>
							<th>Product</th>
							<th>Order Type</th>
							<th>Order Price</th>
						</tr>
						@foreach (var order in invoice.Orders)
						{
							<tr>
								<td>
									@order.Product.Name;
								</td>
								<td>
									@if (order.Lifetime == null)
									{
										<text>Lifetime</text>
									}
									else
									{
										<text>Membership</text>
									}
								</td>
								<td>
									@order.CurrentPrice
								</td>
								<td>
									@order.OrderDate
								</td>
							</tr>
						}
					</tbody>
				}
			</table>

		</div>
	}
	else
	{
		<h3 style="text-align:center">You have no invoices to list.</h3>
	}
</body>
</html>
